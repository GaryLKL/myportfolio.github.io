<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.19.1 by Michael Rose
  Copyright 2013-2019 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->
<html lang="en" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Book Recommendation System for Goodreads.com - Gary Liu</title>
<meta name="description" content="Analyzing 4GB user-item interaction data in PySpark and developed a collaborative filtering recommendation system ">


  <meta name="author" content="Kuan-Lin (Gary) Liu">


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Gary Liu">
<meta property="og:title" content="Book Recommendation System for Goodreads.com">
<meta property="og:url" content="http://localhost:4000/portfolio/bigdata/">


  <meta property="og:description" content="Analyzing 4GB user-item interaction data in PySpark and developed a collaborative filtering recommendation system ">



  <meta property="og:image" content="http://localhost:4000/images/bigdata/bookstore.jpg">





  <meta property="article:published_time" content="2020-07-11T23:42:09+08:00">





  

  


<link rel="canonical" href="http://localhost:4000/portfolio/bigdata/">




<script type="application/ld+json">
  {
    "@context": "https://schema.org",
    
      "@type": "Person",
      "name": "Gary Liu",
      "url": "http://localhost:4000/"
    
  }
</script>






<!-- end _includes/seo.html -->


<link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Gary Liu Feed">

<!-- https://t.co/dKP3o1e -->
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">

<!--[if IE]>
  <style>
    /* old IE unsupported flexbox fixes */
    .greedy-nav .site-title {
      padding-right: 3em;
    }
    .greedy-nav button {
      position: absolute;
      top: 0;
      right: 0;
      height: 100%;
    }
  </style>
<![endif]-->



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single">
    <nav class="skip-links">
  <h2 class="screen-reader-text">Skip links</h2>
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    <!--[if lt IE 9]>
<div class="notice--danger align-center" style="margin: 0;">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience.</div>
<![endif]-->

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
          Gary Liu
          
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a href="/about/">About</a>
            </li><li class="masthead__menu-item">
              <a href="/portfolio/">Portfolio</a>
            </li><li class="masthead__menu-item">
              <a href="/articles/">Blog</a>
            </li></ul>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      


  
    



<nav class="breadcrumbs">
  <ol itemscope itemtype="https://schema.org/BreadcrumbList">
    
    
    
      
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="http://localhost:4000/" itemprop="item"><span itemprop="name">Home</span></a>
          <meta itemprop="position" content="1" />
        </li>
        <span class="sep">/</span>
      
      
        
        <li itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
          <a href="/portfolio" itemprop="item"><span itemprop="name">Portfolio</span></a>
          <meta itemprop="position" content="2" />
        </li>
        <span class="sep">/</span>
      
    
      
      
        <li class="current">Book Recommendation System for Goodreads.com</li>
      
    
  </ol>
</nav>

  


<div id="main" role="main">
  
  <div class="sidebar sticky">
  
  
    
      
        <img src="/images/myphoto.jpg"
             alt="image">
      
      <h3>Course</h3>
      <p>NYU DS-GA 1004: <br /> Big Data</p>

      
    
      
      <h3>Skill Sets</h3>
      <p>Spark <br /> - PySpark <br /> - Spark ML <br /> Recommendation Systems <br /> Dimension Reduction <br /> Fast Search Algorithm</p>

      
    
    
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Book Recommendation System for Goodreads.com">
    <meta itemprop="description" content="Analyzing 4GB user-item interaction data in PySpark and developed a collaborative filtering recommendation system">
    <meta itemprop="datePublished" content="2020-07-11T23:42:09+08:00">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">Book Recommendation System for Goodreads.com
</h1>
          
        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right ">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> Content</h4></header>
              <ul class="toc__menu">
  <li><a href="#introduction">Introduction</a></li>
  <li><a href="#architecture">Architecture</a></li>
  <li><a href="#fast-search">Fast Search</a></li>
  <li><a href="#dimension-reduction-and-visualization">Dimension Reduction and Visualization</a></li>
</ul>

            </nav>
          </aside>
        
        <p></p>
<p><button type="button" class="btn btn-secondary btn-sm" onclick=" relocate_home_article()" style="width:120px;height:40px;border:2px blue none;background-color:lightgrey;">Article Link</button>
<button type="button" class="btn btn-secondary btn-sm" onclick=" relocate_home_code()" style="width:120px;height:40px;border:2px blue none;background-color:lightgrey;">Code Link</button></p>

<script>
function relocate_home_article()
{
     location.href = "https://garylkl.github.io/pdf_files/bigdata_final.pdf";
} 
</script>

<script>
function relocate_home_code()
{
     location.href = "https://github.com/GaryLKL/Goodreads-Recommendation-Systems";
} 
</script>

<h2 id="introduction">Introduction</h2>

<p>In this project, we utilized collaborative filtering to build a recommender system on the Goodreads dataset. In particular, we used Alternating Least Square (ALS) and Spark to train our models, and attained RMSE of 1.6908, PrecisionAt of 0.770 on the test set. Furthermore, we implemented fast searching that increased the speed of the query of 10 users from 86 seconds to 0.33 seconds. We also explored the visualization of the learned space in this paper.</p>

<h2 id="architecture">Architecture</h2>

<p>The description of the implementation is divided into two parts: (1) Data Preprocessing; (2) Modeling with Latent Factor Model. All work is done as Spark jobs on on Dumbo, the Hadoop cluster at New York University as the original dataset is large (4.1GB).  Besides, we do fast-queries and build Latent Factor Model in PySpark, which is the Python API for Spark. The whole data science process is generally separated into three stages from data pre-processing to model evaluation. The code for this project is available <a href="https://github.com/GaryLKL/Goodreads-Recommendation-Systems">here</a>.</p>

<h2 id="fast-search">Fast Search</h2>

<p>Query time is crucial in building a recommender system. Therefore, we compared query time of three methods to associate 500 books with each user.</p>

<ul>
  <li><strong>Naive Approach:</strong> Bring user latent factors and item latent factors into memory of driver machine and use heapq(priority queue) to find the top 500 books for each user.</li>
  <li><strong>Spark Approach:</strong> Since computing dot product between user latent factor and item latent factor is parallelizable, the second method take advantages of spark to do the computation.</li>
  <li><strong>Annoy Approach:</strong> For each user, the best books to recommend are the books that are the nearest neighbors of this user. Therefore, we can build a spatial data structure in the space of all book latent factors after which we can easily find the most nearest neighbors of user at query time. The <a href="https://github.com/spotify/annoy">Annoy library</a> did a good job at implementing it and it reduced the query time a lot.</li>
</ul>

<h2 id="dimension-reduction-and-visualization">Dimension Reduction and Visualization</h2>

<p>To visualize and better understand what kind of information item vectors encode, we used T-SNE to project the item factors into 2 dimensions. There can be many kinds information that is encoded, we mainly want to see if we can find some structure of ratings and genre in the item factors.</p>

        
      </section>

      <footer class="page__meta">
        
        


        
          <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time datetime="2020-07-11T23:42:09+08:00">July 11, 2020</time></p>
        
      </footer>

      <section class="page__share">
  
    <h4 class="page__share-title">Share on</h4>
  

  <a href="https://twitter.com/intent/tweet?text=Book+Recommendation+System+for+Goodreads.com%20http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2Fbigdata%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2Fbigdata%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=http%3A%2F%2Flocalhost%3A4000%2Fportfolio%2Fbigdata%2F" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/portfolio/bdad/" class="pagination--pager" title="A Crowdfunding Campaign You Can’t Refuse
">Previous</a>
    
    
      <a href="/portfolio/introds/" class="pagination--pager" title="Predicting the Outcome of Professional Basketball Game
">Next</a>
    
  </nav>

    </div>

    
  </article>

  
  
</div>

    </div>

    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    
      <li><strong>Follow:</strong></li>
    

    
      
        
      
        
      
        
          <li><a href="https://github.com/GaryLKL" rel="nofollow noopener noreferrer"><i class="fas fa-link" aria-hidden="true"></i> GitHub</a></li>
        
      
        
      
        
      
        
      
        
          <li><a href="https://www.linkedin.com/in/kuanlinliu/" rel="nofollow noopener noreferrer"><i class="fab fa-linkedin" aria-hidden="true"></i> Linkedin</a></li>
        
      
    

    <!-- <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li> -->
  </ul>
</div>

<div class="page__footer-copyright">&copy; 2020 Gary Liu. Powered by <a href="https://jekyllrb.com" rel="nofollow">Jekyll</a> &amp; <a href="https://mademistakes.com/work/minimal-mistakes-jekyll-theme/" rel="nofollow">Minimal Mistakes</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>
  <script src="https://kit.fontawesome.com/4eee35f757.js"></script>










  </body>
</html>
